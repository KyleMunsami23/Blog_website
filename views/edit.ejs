

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= (typeof post !== 'undefined') ? 'Edit Blog Post' : 'Create a Blog Post' %></title>
    <link rel="stylesheet" href="styles/pagestyles.css">
    <link rel="stylesheet" href="styles/newformstyles.css">
</head>

<body>
    <%- include("partials/header.ejs") %>
    <div class="main-content">
        <div class="blog-input-form">
            <h1><%= (typeof post !== 'undefined') ? '~ Edit Blog Post ~' : '~ Create a Blog Post ~' %></h1>

            <form action="/submit" method="post" enctype="multipart/form-data">
                <% if (typeof post !== 'undefined') { %>
                    <input type="hidden" name="id" value="<%= post.id %>">

                    <label for="title">Title:</label>
                    <input type="text" id="title" name="title" value="<%= post.title %>" maxlength="250" required>

                    <label for="category">Category:</label>
                    <select name="category" id="category" required>
                        <option value="cars" <%= post.category === "cars" ? 'selected' : '' %>>Cars</option>
                        <option value="church" <%= post.category === "church" ? 'selected' : '' %>>Church</option>
                        <option value="code" <%= post.category === "code" ? 'selected' : '' %>>Code</option>
                        <option value="food" <%= post.category === "food" ? 'selected' : '' %>>Food</option>
                        <option value="gym" <%= post.category === "gym" ? 'selected' : '' %>>Gym</option>
                        <option value="music" <%= post.category === "music" ? 'selected' : '' %>>Music</option>
                        <option value="motivational" <%= post.category === "motivational" ? 'selected' : '' %>>Motivational</option>
                        <option value="photography" <%= post.category === "photography" ? 'selected' : '' %>>Photography</option>
                        <option value="travel" <%= post.category === "travel" ? 'selected' : '' %>>Travel</option>
                        <option value="other" <%= post.category === "other" ? 'selected' : '' %>>Other</option>
                    </select>

                    <label for="author-name">Author Name:</label>
                    <input type="text" id="author-name" name="author-name" value="<%= post.fullname.split(' ')[0] %>" required>

                    <label for="author-surname">Author Surname:</label>
                    <input type="text" id="author-surname" name="author-surname" value="<%= post.fullname.split(' ')[1] %>" required>

                    <label for="hashtags">Hashtags (optional):</label>
                    <input type="text" id="hashtags" name="hashtags" value="<%= post.hashtags %>">

                    <label for="image">Upload an Image (optional):</label>
                    <input type="file" name="image">

                    <label for="message">Blog Content:</label>
                    <textarea id="message" name="message" rows="10" required><%= post.message %></textarea>

                <% } else { %>
                    <label for="title">Title:</label>
                    <input type="text" id="title" name="title" maxlength="250" required>

                    <label for="category">Category:</label>
                    <select name="category" id="category" required>
                        <option value="" disabled selected>Select a category</option>
                        <option value="cars">Cars</option>
                        <option value="church">Church</option>
                        <option value="code">Code</option>
                        <option value="food">Food</option>
                        <option value="gym">Gym</option>
                        <option value="music">Music</option>
                        <option value="motivational">Motivational</option>
                        <option value="photography">Photography</option>
                        <option value="travel">Travel</option>
                        <option value="other">Other</option>
                    </select>

                    <label for="author-name">Author Name:</label>
                    <input type="text" id="author-name" name="author-name" required>

                    <label for="author-surname">Author Surname:</label>
                    <input type="text" id="author-surname" name="author-surname" required>

                    <label for="hashtags">Hashtags (optional):</label>
                    <input type="text" id="hashtags" name="hashtags">

                    <label for="image">Upload an Image (optional):</label>
                    <input type="file" name="image">

                    <label for="message">Blog Content:</label>
                    <textarea id="message" name="message" rows="10" required></textarea>
                <% } %>

                <div class="form-buttons">
                    <button type="button"><a href="/">Cancel</a></button>
                    <button type="submit"><%= (typeof post !== 'undefined') ? 'Save Changes' : 'Submit' %></button>
                </div>
            </form>
        </div>
    </div>
    <%- include("partials/footer.ejs") %>
</body>

</html>
